{
  "id": "http://edoc-schema.kzn.ru/document/ru/uslugi/definitions/result_delivery_method",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "title": "Способ и данные для получения результата услуги",
  "description": "Необходимо выбрать способ и указать адрес получения",
  "type": "object",
  "required": ["method"],
  "properties": {
    "method": {
      "title": "Способ получения",
      "type": "string",
      "minItems": 1,
      "enum": [
        "по почте",
        "по электронной почте"
      ]
    }
  },
  "dependencies": {
    "method": {
      "type": "object",
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "по почте"
              ]
            },
            "address": {
              "title": "Почтовый адрес для получения результата",
              "description": "Укажите почтовый адрес для получения результата",
              "type": "string"
            }
          },
          "required": ["address"]
        },
        {
          "type": "object",
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "по электронной почте"
              ]
            },
            "email": {
              "title": "Электронный адрес для получения результата",
              "description": "Укажите электронный адрес для получения результата",
              "type": "string"
            }
          },
          "required": ["email"]
        }
      ]
    }
  }
}